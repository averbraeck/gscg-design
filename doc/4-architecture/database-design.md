# 4.1. Database design

Last Updated: 2025-08-26

__Changelog:__
 - 2025-08-11 - Document creation
 - 2025-08-26 - Update with more detail about the data layers
 - 2025-08-26 - Made the terminology consistent with the architecture document
 - 2025-08-26 - Added main tables for GSCG Admin data


## High-level database design

The GSCG database is designed in three separate 'compartments' that are related, but managed by different roles:

1. **GSCG Admin data** with the organizations and users and their access rights.
2. **Game Design data** with the defined game instances with their actors, parameters, scenarios and player strategies.
3. **Game State data** with game sessions, game state, and game results

The results from the game can also be sent to the external data platform [gamedata.nl](https://gamedata.nl). In a sense, this defines a fourth data set:

4. **Game Play data** with game sessions, game state, and game results


## GSCG Admin data

The GSCG Admin data supports the roles, use cases and requirements for the Portal Administrator, Organization Administrator, and Session Administrator. Important tasks are user administration, game administration, organization administration, and session administration. This leads to the following envisioned tables in the database:

- `organization` with the data for an organization that can define and play games, such as TU Delft and UMD.
- `user` with the data of someone who can log into one of the apps for GSCG. Note that a player is not necessarily a user, since they can be anonymous. A user has a special characteristic `portal_admin` for portal administrators, who can create and delete organizations.
- `organization_role` with the roles that a user can play for the organization.
- `game` as a placeholder for the definition of a game. `game` is related to the tables where the game designer role can define and update different game versions.
- `game_version` as a version of the game. Multiple versions with differences can exist. Game versions are not by definition tied to a specific organization, allowing games to be played by multiple organizations.
- `game_role` connecting game designers to games.
- `organization_game` defining that a particular organization has access to a game, and can define game sessions as a result.
- `game_session` is a frozen instance of a game that can be played on certain dates. It has allocated game players and one or more game facilitators. 
- `game_session_role` defines the users who can act as game facilitators, or session administrators.
- `player` contains the properties of self-generated game players, or game players generated by the game facilitator or session administrator.
 